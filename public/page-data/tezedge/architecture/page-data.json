{"componentChunkName":"component---src-templates-post-template-js","path":"/tezedge/architecture","result":{"data":{"markdownRemark":{"fields":{"slug":"/tezedge/architecture"},"id":"bd345330-ce4d-582e-94fb-209843fc1a06","html":"<h1 id=\"architecture\" style=\"position:relative;\"><a href=\"#architecture\" aria-label=\"architecture permalink\" class=\"post-toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Architecture</h1>\n<p>This document describes high level architecture of a Tezedge node.</p>\n<h2 id=\"shell\" style=\"position:relative;\"><a href=\"#shell\" aria-label=\"shell permalink\" class=\"post-toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Shell</h2>\n<p>Shell consists of several actors working together.</p>\n<h2 id=\"peer-manager\" style=\"position:relative;\"><a href=\"#peer-manager\" aria-label=\"peer manager permalink\" class=\"post-toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Peer Manager</h2>\n<p>Networking level is responsible for p2p network communication with remote peers.</p>\n<p>At the top level sits a Peer Manager which is responsible for establishing network connection to remote peers.</p>\n<div class=\"mermaid\" data-processed=\"true\"><svg id=\"mermaid-1582746374440\" width=\"316.3125\" xmlns=\"http://www.w3.org/2000/svg\" height=\"144\" viewBox=\"0 0 316.3125 144\"><style>#mermaid-1582746374440 .label{font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family);color:#333}#mermaid-1582746374440 .label text{fill:#333}#mermaid-1582746374440 .node rect,#mermaid-1582746374440 .node circle,#mermaid-1582746374440 .node ellipse,#mermaid-1582746374440 .node polygon,#mermaid-1582746374440 .node path{fill:#eee;stroke:#999;stroke-width:1px}#mermaid-1582746374440 .node .label{text-align:center}#mermaid-1582746374440 .node.clickable{cursor:pointer}#mermaid-1582746374440 .arrowheadPath{fill:#333}#mermaid-1582746374440 .edgePath .path{stroke:#666;stroke-width:1.5px}#mermaid-1582746374440 .edgeLabel{background-color:#fff;text-align:center}#mermaid-1582746374440 .cluster rect{fill:#eaf2fb;stroke:#26a;stroke-width:1px}#mermaid-1582746374440 .cluster text{fill:#333}#mermaid-1582746374440 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family);font-size:12px;background:#eaf2fb;border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100}#mermaid-1582746374440 .actor{stroke:#999;fill:#eee}#mermaid-1582746374440 text.actor{fill:#333;stroke:none}#mermaid-1582746374440 .actor-line{stroke:#666}#mermaid-1582746374440 .messageLine0{stroke-width:1.5;stroke-dasharray:'2 2';stroke:#333}#mermaid-1582746374440 .messageLine1{stroke-width:1.5;stroke-dasharray:'2 2';stroke:#333}#mermaid-1582746374440 #arrowhead{fill:#333}#mermaid-1582746374440 .sequenceNumber{fill:#fff}#mermaid-1582746374440 #sequencenumber{fill:#333}#mermaid-1582746374440 #crosshead path{fill:#333 !important;stroke:#333 !important}#mermaid-1582746374440 .messageText{fill:#333;stroke:none}#mermaid-1582746374440 .labelBox{stroke:#999;fill:#eee}#mermaid-1582746374440 .labelText{fill:#333;stroke:none}#mermaid-1582746374440 .loopText{fill:#333;stroke:none}#mermaid-1582746374440 .loopLine{stroke-width:2;stroke-dasharray:'2 2';stroke:#999}#mermaid-1582746374440 .note{stroke:#770;fill:#ffa}#mermaid-1582746374440 .noteText{fill:black;stroke:none;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family);font-size:14px}#mermaid-1582746374440 .activation0{fill:#f4f4f4;stroke:#666}#mermaid-1582746374440 .activation1{fill:#f4f4f4;stroke:#666}#mermaid-1582746374440 .activation2{fill:#f4f4f4;stroke:#666}#mermaid-1582746374440 .mermaid-main-font{font-family:\"trebuchet ms\", verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .section{stroke:none;opacity:0.2}#mermaid-1582746374440 .section0{fill:#80b3e6}#mermaid-1582746374440 .section2{fill:#80b3e6}#mermaid-1582746374440 .section1,#mermaid-1582746374440 .section3{fill:#fff;opacity:0.2}#mermaid-1582746374440 .sectionTitle0{fill:#333}#mermaid-1582746374440 .sectionTitle1{fill:#333}#mermaid-1582746374440 .sectionTitle2{fill:#333}#mermaid-1582746374440 .sectionTitle3{fill:#333}#mermaid-1582746374440 .sectionTitle{text-anchor:start;font-size:11px;text-height:14px;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .grid .tick{stroke:#e6e6e6;opacity:0.8;shape-rendering:crispEdges}#mermaid-1582746374440 .grid .tick text{font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .grid path{stroke-width:0}#mermaid-1582746374440 .today{fill:none;stroke:#d42;stroke-width:2px}#mermaid-1582746374440 .task{stroke-width:2}#mermaid-1582746374440 .taskText{text-anchor:middle;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .taskText:not([font-size]){font-size:11px}#mermaid-1582746374440 .taskTextOutsideRight{fill:#333;text-anchor:start;font-size:11px;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .taskTextOutsideLeft{fill:#333;text-anchor:end;font-size:11px}#mermaid-1582746374440 .task.clickable{cursor:pointer}#mermaid-1582746374440 .taskText.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1582746374440 .taskTextOutsideLeft.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1582746374440 .taskTextOutsideRight.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1582746374440 .taskText0,#mermaid-1582746374440 .taskText1,#mermaid-1582746374440 .taskText2,#mermaid-1582746374440 .taskText3{fill:#fff}#mermaid-1582746374440 .task0,#mermaid-1582746374440 .task1,#mermaid-1582746374440 .task2,#mermaid-1582746374440 .task3{fill:#26a;stroke:#1a4d80}#mermaid-1582746374440 .taskTextOutside0,#mermaid-1582746374440 .taskTextOutside2{fill:#333}#mermaid-1582746374440 .taskTextOutside1,#mermaid-1582746374440 .taskTextOutside3{fill:#333}#mermaid-1582746374440 .active0,#mermaid-1582746374440 .active1,#mermaid-1582746374440 .active2,#mermaid-1582746374440 .active3{fill:#eee;stroke:#1a4d80}#mermaid-1582746374440 .activeText0,#mermaid-1582746374440 .activeText1,#mermaid-1582746374440 .activeText2,#mermaid-1582746374440 .activeText3{fill:#333 !important}#mermaid-1582746374440 .done0,#mermaid-1582746374440 .done1,#mermaid-1582746374440 .done2,#mermaid-1582746374440 .done3{stroke:#666;fill:#bbb;stroke-width:2}#mermaid-1582746374440 .doneText0,#mermaid-1582746374440 .doneText1,#mermaid-1582746374440 .doneText2,#mermaid-1582746374440 .doneText3{fill:#333 !important}#mermaid-1582746374440 .crit0,#mermaid-1582746374440 .crit1,#mermaid-1582746374440 .crit2,#mermaid-1582746374440 .crit3{stroke:#b1361b;fill:#d42;stroke-width:2}#mermaid-1582746374440 .activeCrit0,#mermaid-1582746374440 .activeCrit1,#mermaid-1582746374440 .activeCrit2,#mermaid-1582746374440 .activeCrit3{stroke:#b1361b;fill:#eee;stroke-width:2}#mermaid-1582746374440 .doneCrit0,#mermaid-1582746374440 .doneCrit1,#mermaid-1582746374440 .doneCrit2,#mermaid-1582746374440 .doneCrit3{stroke:#b1361b;fill:#bbb;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}#mermaid-1582746374440 .milestone{transform:rotate(45deg) scale(0.8, 0.8)}#mermaid-1582746374440 .milestoneText{font-style:italic}#mermaid-1582746374440 .doneCritText0,#mermaid-1582746374440 .doneCritText1,#mermaid-1582746374440 .doneCritText2,#mermaid-1582746374440 .doneCritText3{fill:#333 !important}#mermaid-1582746374440 .activeCritText0,#mermaid-1582746374440 .activeCritText1,#mermaid-1582746374440 .activeCritText2,#mermaid-1582746374440 .activeCritText3{fill:#333 !important}#mermaid-1582746374440 .titleText{text-anchor:middle;font-size:18px;fill:#333;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 g.classGroup text{fill:#999;stroke:none;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family);font-size:10px}#mermaid-1582746374440 g.classGroup text .title{font-weight:bolder}#mermaid-1582746374440 g.clickable{cursor:pointer}#mermaid-1582746374440 g.classGroup rect{fill:#eee;stroke:#999}#mermaid-1582746374440 g.classGroup line{stroke:#999;stroke-width:1}#mermaid-1582746374440 .classLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5}#mermaid-1582746374440 .classLabel .label{fill:#999;font-size:10px}#mermaid-1582746374440 .relation{stroke:#999;stroke-width:1;fill:none}#mermaid-1582746374440 .dashed-line{stroke-dasharray:3}#mermaid-1582746374440 #compositionStart{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #compositionEnd{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #aggregationStart{fill:#eee;stroke:#999;stroke-width:1}#mermaid-1582746374440 #aggregationEnd{fill:#eee;stroke:#999;stroke-width:1}#mermaid-1582746374440 #dependencyStart{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #dependencyEnd{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #extensionStart{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #extensionEnd{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 .commit-id,#mermaid-1582746374440 .commit-msg,#mermaid-1582746374440 .branch-label{fill:lightgrey;color:lightgrey;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .pieTitleText{text-anchor:middle;font-size:25px;fill:#333;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .slice{font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 g.stateGroup text{fill:#999;stroke:none;font-size:10px;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 g.stateGroup text{fill:#999;stroke:none;font-size:10px}#mermaid-1582746374440 g.stateGroup .state-title{font-weight:bolder;fill:#000}#mermaid-1582746374440 g.stateGroup rect{fill:#eee;stroke:#999}#mermaid-1582746374440 g.stateGroup line{stroke:#999;stroke-width:1}#mermaid-1582746374440 .transition{stroke:#999;stroke-width:1;fill:none}#mermaid-1582746374440 .stateGroup .composit{fill:white;border-bottom:1px}#mermaid-1582746374440 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px}#mermaid-1582746374440 .state-note{stroke:#770;fill:#ffa}#mermaid-1582746374440 .state-note text{fill:black;stroke:none;font-size:10px}#mermaid-1582746374440 .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5}#mermaid-1582746374440 .stateLabel text{fill:#000;font-size:10px;font-weight:bold;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}:root{--mermaid-font-family: '\"trebuchet ms\", verdana, arial';--mermaid-font-family: \"Comic Sans MS\", \"Comic Sans\", cursive}\n\n:root { --mermaid-font-family: \"trebuchet ms\", verdana, arial;}</style><style>#mermaid-1582746374440 {\n    color: rgb(0, 0, 0);\n    font: normal normal 400 normal 16px / normal \"trebuchet ms\", verdana, arial;\n  }</style><g transform=\"translate(0, 0)\"><g class=\"output\"><g class=\"clusters\"></g><g class=\"edgePaths\"><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M106.97129564606742,47L41.4296875,72L41.4296875,97\" marker-end=\"url(#arrowhead9)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead9\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M158.09375,47L158.09375,72L158.09375,97\" marker-end=\"url(#arrowhead10)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead10\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M209.24359199438203,47L274.8203125,72L274.8203125,97\" marker-end=\"url(#arrowhead11)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead11\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g></g><g class=\"edgeLabels\"><g class=\"edgeLabel\" transform=\"\" style=\"opacity: 1;\"><g transform=\"translate(0,0)\" class=\"label\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\" transform=\"\" style=\"opacity: 1;\"><g transform=\"translate(0,0)\" class=\"label\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\" transform=\"\" style=\"opacity: 1;\"><g transform=\"translate(0,0)\" class=\"label\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g class=\"node\" id=\"A\" transform=\"translate(158.09375,27.5)\" style=\"opacity: 1;\"><rect rx=\"0\" ry=\"0\" x=\"-58.6484375\" y=\"-19.5\" width=\"117.296875\" height=\"39\" class=\"label-container\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-48.6484375,-9.5)\"><foreignObject width=\"97.296875\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Peer Manager</div></foreignObject></g></g></g><g class=\"node\" id=\"B\" transform=\"translate(41.4296875,116.5)\" style=\"opacity: 1;\"><rect rx=\"0\" ry=\"0\" x=\"-33.4296875\" y=\"-19.5\" width=\"66.859375\" height=\"39\" class=\"label-container\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-23.4296875,-9.5)\"><foreignObject width=\"46.859375\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Peer A</div></foreignObject></g></g></g><g class=\"node\" id=\"C\" transform=\"translate(158.09375,116.5)\" style=\"opacity: 1;\"><rect rx=\"0\" ry=\"0\" x=\"-33.234375\" y=\"-19.5\" width=\"66.46875\" height=\"39\" class=\"label-container\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-23.234375,-9.5)\"><foreignObject width=\"46.46875\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Peer B</div></foreignObject></g></g></g><g class=\"node\" id=\"D\" transform=\"translate(274.8203125,116.5)\" style=\"opacity: 1;\"><rect rx=\"0\" ry=\"0\" x=\"-33.4921875\" y=\"-19.5\" width=\"66.984375\" height=\"39\" class=\"label-container\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-23.4921875,-9.5)\"><foreignObject width=\"46.984375\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Peer C</div></foreignObject></g></g></g></g></g></g></svg></div>\n<p>Peer manager also accepts incoming connection from remote peers.</p>\n<p>When peer is started it will first try to start bootstrapping procedure. If the bootstrap is successful then it will\nstart to accept messages from the connected remote peer. The same peer is also used to transmit messages to the remote peer.</p>\n<p>Messages from Peer manager are, after cryptographic validation, sent up to the Shell.</p>\n<h3 id=\"chain-manager\" style=\"position:relative;\"><a href=\"#chain-manager\" aria-label=\"chain manager permalink\" class=\"post-toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Chain Manager</h3>\n<p>Chain manager is responsible for chain synchronization.</p>\n<p>This actor is monitoring if every block (except genesis) has its predecessor. If not, it will try to get it from one of\nthe connected peers.</p>\n<h3 id=\"chain-feeder\" style=\"position:relative;\"><a href=\"#chain-feeder\" aria-label=\"chain feeder permalink\" class=\"post-toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Chain Feeder</h3>\n<p>Chain feeder is periodically running checks to see if it's possible to apply next block to the protocol.</p>\n<p>We are using the word <em>feed</em> here because this actor is not <em>applying</em> the block directly, but instead it is sending\nthe block via IPC to another process. Name of that  another process is Protocol Runner.\nWe will describe Protocol runner later in the text.</p>\n<h3 id=\"context-listener\" style=\"position:relative;\"><a href=\"#context-listener\" aria-label=\"context listener permalink\" class=\"post-toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Context Listener</h3>\n<p>Context listener is listening for context event generated when block is applied by the protocol.\nEvents are transferred from Protocol runner to Context listener via IPC.</p>\n<p><strong>The following graph depicts how blocks are applied.</strong></p>\n<div class=\"mermaid\" data-processed=\"true\"><svg id=\"mermaid-1582746374440\" width=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" height=\"100%\" style=\"max-width:685px;\" viewBox=\"-85 -10 685 366\"><style>#mermaid-1582746374440 .label{font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family);color:#333}#mermaid-1582746374440 .label text{fill:#333}#mermaid-1582746374440 .node rect,#mermaid-1582746374440 .node circle,#mermaid-1582746374440 .node ellipse,#mermaid-1582746374440 .node polygon,#mermaid-1582746374440 .node path{fill:#eee;stroke:#999;stroke-width:1px}#mermaid-1582746374440 .node .label{text-align:center}#mermaid-1582746374440 .node.clickable{cursor:pointer}#mermaid-1582746374440 .arrowheadPath{fill:#333}#mermaid-1582746374440 .edgePath .path{stroke:#666;stroke-width:1.5px}#mermaid-1582746374440 .edgeLabel{background-color:#fff;text-align:center}#mermaid-1582746374440 .cluster rect{fill:#eaf2fb;stroke:#26a;stroke-width:1px}#mermaid-1582746374440 .cluster text{fill:#333}#mermaid-1582746374440 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family);font-size:12px;background:#eaf2fb;border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100}#mermaid-1582746374440 .actor{stroke:#999;fill:#eee}#mermaid-1582746374440 text.actor{fill:#333;stroke:none}#mermaid-1582746374440 .actor-line{stroke:#666}#mermaid-1582746374440 .messageLine0{stroke-width:1.5;stroke-dasharray:'2 2';stroke:#333}#mermaid-1582746374440 .messageLine1{stroke-width:1.5;stroke-dasharray:'2 2';stroke:#333}#mermaid-1582746374440 #arrowhead{fill:#333}#mermaid-1582746374440 .sequenceNumber{fill:#fff}#mermaid-1582746374440 #sequencenumber{fill:#333}#mermaid-1582746374440 #crosshead path{fill:#333 !important;stroke:#333 !important}#mermaid-1582746374440 .messageText{fill:#333;stroke:none}#mermaid-1582746374440 .labelBox{stroke:#999;fill:#eee}#mermaid-1582746374440 .labelText{fill:#333;stroke:none}#mermaid-1582746374440 .loopText{fill:#333;stroke:none}#mermaid-1582746374440 .loopLine{stroke-width:2;stroke-dasharray:'2 2';stroke:#999}#mermaid-1582746374440 .note{stroke:#770;fill:#ffa}#mermaid-1582746374440 .noteText{fill:black;stroke:none;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family);font-size:14px}#mermaid-1582746374440 .activation0{fill:#f4f4f4;stroke:#666}#mermaid-1582746374440 .activation1{fill:#f4f4f4;stroke:#666}#mermaid-1582746374440 .activation2{fill:#f4f4f4;stroke:#666}#mermaid-1582746374440 .mermaid-main-font{font-family:\"trebuchet ms\", verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .section{stroke:none;opacity:0.2}#mermaid-1582746374440 .section0{fill:#80b3e6}#mermaid-1582746374440 .section2{fill:#80b3e6}#mermaid-1582746374440 .section1,#mermaid-1582746374440 .section3{fill:#fff;opacity:0.2}#mermaid-1582746374440 .sectionTitle0{fill:#333}#mermaid-1582746374440 .sectionTitle1{fill:#333}#mermaid-1582746374440 .sectionTitle2{fill:#333}#mermaid-1582746374440 .sectionTitle3{fill:#333}#mermaid-1582746374440 .sectionTitle{text-anchor:start;font-size:11px;text-height:14px;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .grid .tick{stroke:#e6e6e6;opacity:0.8;shape-rendering:crispEdges}#mermaid-1582746374440 .grid .tick text{font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .grid path{stroke-width:0}#mermaid-1582746374440 .today{fill:none;stroke:#d42;stroke-width:2px}#mermaid-1582746374440 .task{stroke-width:2}#mermaid-1582746374440 .taskText{text-anchor:middle;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .taskText:not([font-size]){font-size:11px}#mermaid-1582746374440 .taskTextOutsideRight{fill:#333;text-anchor:start;font-size:11px;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .taskTextOutsideLeft{fill:#333;text-anchor:end;font-size:11px}#mermaid-1582746374440 .task.clickable{cursor:pointer}#mermaid-1582746374440 .taskText.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1582746374440 .taskTextOutsideLeft.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1582746374440 .taskTextOutsideRight.clickable{cursor:pointer;fill:#003163 !important;font-weight:bold}#mermaid-1582746374440 .taskText0,#mermaid-1582746374440 .taskText1,#mermaid-1582746374440 .taskText2,#mermaid-1582746374440 .taskText3{fill:#fff}#mermaid-1582746374440 .task0,#mermaid-1582746374440 .task1,#mermaid-1582746374440 .task2,#mermaid-1582746374440 .task3{fill:#26a;stroke:#1a4d80}#mermaid-1582746374440 .taskTextOutside0,#mermaid-1582746374440 .taskTextOutside2{fill:#333}#mermaid-1582746374440 .taskTextOutside1,#mermaid-1582746374440 .taskTextOutside3{fill:#333}#mermaid-1582746374440 .active0,#mermaid-1582746374440 .active1,#mermaid-1582746374440 .active2,#mermaid-1582746374440 .active3{fill:#eee;stroke:#1a4d80}#mermaid-1582746374440 .activeText0,#mermaid-1582746374440 .activeText1,#mermaid-1582746374440 .activeText2,#mermaid-1582746374440 .activeText3{fill:#333 !important}#mermaid-1582746374440 .done0,#mermaid-1582746374440 .done1,#mermaid-1582746374440 .done2,#mermaid-1582746374440 .done3{stroke:#666;fill:#bbb;stroke-width:2}#mermaid-1582746374440 .doneText0,#mermaid-1582746374440 .doneText1,#mermaid-1582746374440 .doneText2,#mermaid-1582746374440 .doneText3{fill:#333 !important}#mermaid-1582746374440 .crit0,#mermaid-1582746374440 .crit1,#mermaid-1582746374440 .crit2,#mermaid-1582746374440 .crit3{stroke:#b1361b;fill:#d42;stroke-width:2}#mermaid-1582746374440 .activeCrit0,#mermaid-1582746374440 .activeCrit1,#mermaid-1582746374440 .activeCrit2,#mermaid-1582746374440 .activeCrit3{stroke:#b1361b;fill:#eee;stroke-width:2}#mermaid-1582746374440 .doneCrit0,#mermaid-1582746374440 .doneCrit1,#mermaid-1582746374440 .doneCrit2,#mermaid-1582746374440 .doneCrit3{stroke:#b1361b;fill:#bbb;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}#mermaid-1582746374440 .milestone{transform:rotate(45deg) scale(0.8, 0.8)}#mermaid-1582746374440 .milestoneText{font-style:italic}#mermaid-1582746374440 .doneCritText0,#mermaid-1582746374440 .doneCritText1,#mermaid-1582746374440 .doneCritText2,#mermaid-1582746374440 .doneCritText3{fill:#333 !important}#mermaid-1582746374440 .activeCritText0,#mermaid-1582746374440 .activeCritText1,#mermaid-1582746374440 .activeCritText2,#mermaid-1582746374440 .activeCritText3{fill:#333 !important}#mermaid-1582746374440 .titleText{text-anchor:middle;font-size:18px;fill:#333;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 g.classGroup text{fill:#999;stroke:none;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family);font-size:10px}#mermaid-1582746374440 g.classGroup text .title{font-weight:bolder}#mermaid-1582746374440 g.clickable{cursor:pointer}#mermaid-1582746374440 g.classGroup rect{fill:#eee;stroke:#999}#mermaid-1582746374440 g.classGroup line{stroke:#999;stroke-width:1}#mermaid-1582746374440 .classLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5}#mermaid-1582746374440 .classLabel .label{fill:#999;font-size:10px}#mermaid-1582746374440 .relation{stroke:#999;stroke-width:1;fill:none}#mermaid-1582746374440 .dashed-line{stroke-dasharray:3}#mermaid-1582746374440 #compositionStart{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #compositionEnd{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #aggregationStart{fill:#eee;stroke:#999;stroke-width:1}#mermaid-1582746374440 #aggregationEnd{fill:#eee;stroke:#999;stroke-width:1}#mermaid-1582746374440 #dependencyStart{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #dependencyEnd{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #extensionStart{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 #extensionEnd{fill:#999;stroke:#999;stroke-width:1}#mermaid-1582746374440 .commit-id,#mermaid-1582746374440 .commit-msg,#mermaid-1582746374440 .branch-label{fill:lightgrey;color:lightgrey;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .pieTitleText{text-anchor:middle;font-size:25px;fill:#333;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 .slice{font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 g.stateGroup text{fill:#999;stroke:none;font-size:10px;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}#mermaid-1582746374440 g.stateGroup text{fill:#999;stroke:none;font-size:10px}#mermaid-1582746374440 g.stateGroup .state-title{font-weight:bolder;fill:#000}#mermaid-1582746374440 g.stateGroup rect{fill:#eee;stroke:#999}#mermaid-1582746374440 g.stateGroup line{stroke:#999;stroke-width:1}#mermaid-1582746374440 .transition{stroke:#999;stroke-width:1;fill:none}#mermaid-1582746374440 .stateGroup .composit{fill:white;border-bottom:1px}#mermaid-1582746374440 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px}#mermaid-1582746374440 .state-note{stroke:#770;fill:#ffa}#mermaid-1582746374440 .state-note text{fill:black;stroke:none;font-size:10px}#mermaid-1582746374440 .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5}#mermaid-1582746374440 .stateLabel text{fill:#000;font-size:10px;font-weight:bold;font-family:'trebuchet ms', verdana, arial;font-family:var(--mermaid-font-family)}:root{--mermaid-font-family: '\"trebuchet ms\", verdana, arial';--mermaid-font-family: \"Comic Sans MS\", \"Comic Sans\", cursive}\n\n:root { --mermaid-font-family: \"trebuchet ms\", verdana, arial;}</style><style>#mermaid-1582746374440 {\n    color: rgb(0, 0, 0);\n    font: normal normal 400 normal 16px / normal \"trebuchet ms\", verdana, arial;\n  }</style><g></g><g><line id=\"actor0\" x1=\"75\" y1=\"5\" x2=\"75\" y2=\"355\" class=\"actor-line\" stroke-width=\"0.5px\" stroke=\"#999\"></line><rect x=\"0\" y=\"0\" fill=\"#eaeaea\" stroke=\"#666\" width=\"150\" height=\"65\" rx=\"3\" ry=\"3\" class=\"actor\"></rect><text x=\"75\" y=\"32.5\" dominant-baseline=\"central\" alignment-baseline=\"central\" class=\"actor\" style=\"text-anchor: middle; font-size: 14px;\"><tspan x=\"75\" dy=\"0\">Chain manager</tspan></text></g><g><line id=\"actor1\" x1=\"275\" y1=\"5\" x2=\"275\" y2=\"355\" class=\"actor-line\" stroke-width=\"0.5px\" stroke=\"#999\"></line><rect x=\"200\" y=\"0\" fill=\"#eaeaea\" stroke=\"#666\" width=\"150\" height=\"65\" rx=\"3\" ry=\"3\" class=\"actor\"></rect><text x=\"275\" y=\"32.5\" dominant-baseline=\"central\" alignment-baseline=\"central\" class=\"actor\" style=\"text-anchor: middle; font-size: 14px;\"><tspan x=\"275\" dy=\"0\">Protocol runner</tspan></text></g><g><line id=\"actor2\" x1=\"475\" y1=\"5\" x2=\"475\" y2=\"355\" class=\"actor-line\" stroke-width=\"0.5px\" stroke=\"#999\"></line><rect x=\"400\" y=\"0\" fill=\"#eaeaea\" stroke=\"#666\" width=\"150\" height=\"65\" rx=\"3\" ry=\"3\" class=\"actor\"></rect><text x=\"475\" y=\"32.5\" dominant-baseline=\"central\" alignment-baseline=\"central\" class=\"actor\" style=\"text-anchor: middle; font-size: 14px;\"><tspan x=\"475\" dy=\"0\">Context listener</tspan></text></g><defs><marker id=\"arrowhead\" refX=\"5\" refY=\"2\" markerWidth=\"6\" markerHeight=\"4\" orient=\"auto\"><path d=\"M 0,0 V 4 L6,2 Z\"></path></marker></defs><defs><marker id=\"crosshead\" markerWidth=\"15\" markerHeight=\"8\" orient=\"auto\" refX=\"16\" refY=\"4\"><path fill=\"black\" stroke=\"#000000\" stroke-width=\"1px\" d=\"M 9,2 V 6 L16,4 Z\" style=\"stroke-dasharray: 0, 0;\"></path><path fill=\"none\" stroke=\"#000000\" stroke-width=\"1px\" d=\"M 0,1 L 6,7 M 6,1 L 0,7\" style=\"stroke-dasharray: 0, 0;\"></path></marker></defs><defs><marker id=\"sequencenumber\" refX=\"15\" refY=\"15\" markerWidth=\"60\" markerHeight=\"40\" orient=\"auto\"><circle cx=\"15\" cy=\"15\" r=\"6\"></circle></marker></defs><g><text x=\"75\" y=\"118\" class=\"messageText\" style=\"text-anchor: middle;\">Look for blocks to apply</text><path d=\"M 75,125 C 135,115 135,155 75,145\" class=\"messageLine0\" stroke-width=\"2\" stroke=\"black\" marker-end=\"url(#arrowhead)\" style=\"fill: none;\"></path></g><g><line x1=\"-35\" y1=\"75\" x2=\"185\" y2=\"75\" class=\"loopLine\"></line><line x1=\"185\" y1=\"75\" x2=\"185\" y2=\"165\" class=\"loopLine\"></line><line x1=\"-35\" y1=\"165\" x2=\"185\" y2=\"165\" class=\"loopLine\"></line><line x1=\"-35\" y1=\"75\" x2=\"-35\" y2=\"165\" class=\"loopLine\"></line><polygon points=\"-35,75 15,75 15,88 6.6,95 -35,95\" class=\"labelBox\"></polygon><text x=\"-27.5\" y=\"90\" class=\"labelText\"><tspan x=\"-27.5\">loop</tspan></text><text x=\"75\" y=\"90\" class=\"loopText\" style=\"text-anchor: middle;\"><tspan x=\"75\">[ Watchdog ]</tspan></text></g><g><text x=\"175\" y=\"193\" class=\"messageText\" style=\"text-anchor: middle;\">Apply block</text><line x1=\"75\" y1=\"200\" x2=\"275\" y2=\"200\" class=\"messageLine0\" stroke-width=\"2\" stroke=\"black\" marker-end=\"url(#arrowhead)\" style=\"fill: none;\"></line></g><g><rect x=\"270\" y=\"202\" fill=\"#EDF2AE\" stroke=\"#666\" width=\"10\" height=\"68\" rx=\"0\" ry=\"0\" class=\"activation0\"></rect></g><g><text x=\"172.5\" y=\"228\" class=\"messageText\" style=\"text-anchor: middle;\">Block applied</text><line x1=\"270\" y1=\"235\" x2=\"75\" y2=\"235\" class=\"messageLine0\" stroke-width=\"2\" stroke=\"black\" marker-end=\"url(#arrowhead)\" style=\"fill: none;\"></line></g><g></g><g><text x=\"377.5\" y=\"263\" class=\"messageText\" style=\"text-anchor: middle;\">Context events</text><line x1=\"280\" y1=\"270\" x2=\"475\" y2=\"270\" class=\"messageLine1\" stroke-width=\"2\" stroke=\"black\" marker-end=\"url(#arrowhead)\" style=\"stroke-dasharray: 3, 3; fill: none;\"></line></g><g><rect x=\"0\" y=\"290\" fill=\"#eaeaea\" stroke=\"#666\" width=\"150\" height=\"65\" rx=\"3\" ry=\"3\" class=\"actor\"></rect><text x=\"75\" y=\"322.5\" dominant-baseline=\"central\" alignment-baseline=\"central\" class=\"actor\" style=\"text-anchor: middle; font-size: 14px;\"><tspan x=\"75\" dy=\"0\">Chain manager</tspan></text></g><g><rect x=\"200\" y=\"290\" fill=\"#eaeaea\" stroke=\"#666\" width=\"150\" height=\"65\" rx=\"3\" ry=\"3\" class=\"actor\"></rect><text x=\"275\" y=\"322.5\" dominant-baseline=\"central\" alignment-baseline=\"central\" class=\"actor\" style=\"text-anchor: middle; font-size: 14px;\"><tspan x=\"275\" dy=\"0\">Protocol runner</tspan></text></g><g><rect x=\"400\" y=\"290\" fill=\"#eaeaea\" stroke=\"#666\" width=\"150\" height=\"65\" rx=\"3\" ry=\"3\" class=\"actor\"></rect><text x=\"475\" y=\"322.5\" dominant-baseline=\"central\" alignment-baseline=\"central\" class=\"actor\" style=\"text-anchor: middle; font-size: 14px;\"><tspan x=\"475\" dy=\"0\">Context listener</tspan></text></g></svg></div>","frontmatter":{"date":null,"title":"Architecture","sidebar":"Docs","showTitle":false,"hideAnchor":null}}},"pageContext":{}}}